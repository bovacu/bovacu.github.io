
.. _program_listing_file_engine_include_core_render_elements_Shader.h:

Program Listing for File Shader.h
=================================

|exhale_lsh| :ref:`Return to documentation for file <file_engine_include_core_render_elements_Shader.h>` (``engine/include/core/render/elements/Shader.h``)

.. |exhale_lsh| unicode:: U+021B0 .. UPWARDS ARROW WITH TIP LEFTWARDS

.. code-block:: cpp

   #pragma once
   
   #include <string>
   #include <unordered_map>
   
   #include "core/Core.h"
   #if IS_ANDROID()
       #include <GLES3/gl32.h>
   #elif IS_IOS()
       #include <OpenGLES/ES3/gl.h>
   #else
       #include "glad/glad.h"
   #endif
   
   #include "core/systems/fileSystem/FileManager.h"
   
   namespace GDE {
   
       class LoadVertexConfigNotInvoked : public std::exception {
           public:
           [[nodiscard]] auto what() const noexcept -> const char* override {
               return "Load vertex config function was not called for shader, so the shader won't work.";
           }
       };
   
       struct VertexConfig {
   
           unsigned int pointerIndex = 0;
   
           int numberOfElements = 0;
   
           unsigned int openglDataType = 0;
   
           unsigned int stride = 0;
   
           int structSize = 0;
       };
   
       struct VertexData {  };
   
       class Shader {
   
           private:
               std::unordered_map<GLuint, GLuint> shadersAttached;
   
               GLuint shaderID = -1;
   
               GLuint vao = -1;
   
               GLuint ibo = -1;
   
               GLuint vbo = -1;
   
                long vertexDataSize;
   
           public:
               Shader();
               ~Shader();
   
               GLuint loadFromFiles(const std::string& _vertex, const std::string& _fragment, FileManager* _fileManager);
   
               GLuint loadFromStrings(const std::string& _vertex, const std::string& _fragment);
   
               void loadVertexConfig(const std::vector<VertexConfig>& _verticesConfig, int _maxIndicesPerDrawCall);
   
               GLuint getShaderID() const;
   
               GLuint getShaderVAO() const;
   
               GLuint getShaderIBO() const;
   
               GLuint getShaderVBO() const;
   
               long getShaderVertexDataSize() const;
   
           private:
               bool initFromString(const std::string& _shaderCode, GLenum _shaderType);
       };
   }
