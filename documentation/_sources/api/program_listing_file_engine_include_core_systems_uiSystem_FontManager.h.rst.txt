
.. _program_listing_file_engine_include_core_systems_uiSystem_FontManager.h:

Program Listing for File FontManager.h
======================================

|exhale_lsh| :ref:`Return to documentation for file <file_engine_include_core_systems_uiSystem_FontManager.h>` (``engine/include/core/systems/uiSystem/FontManager.h``)

.. |exhale_lsh| unicode:: U+021B0 .. UPWARDS ARROW WITH TIP LEFTWARDS

.. code-block:: cpp

   // Created by borja on 15/1/22.
   
   
   #ifndef ENGINE2_0_FONT_MANAGER_H
   #define ENGINE2_0_FONT_MANAGER_H
   
   #define STB_IMAGE_WRITE_IMPLEMENTATION
   #include "core/util/Util.h"
   #include <ft2build.h>
   #include "freetype/freetype.h"
   #include "core/render/elements/Texture.h"
   #include "core/systems/fileSystem/FileManager.h"
   
   #define MAX_WIDTH 1024
   
   namespace GDE {
   
       struct CharInfo {
           Vec2F advance;
           Vec2F bitmapSize;
           Vec2F bitmapPos;
           Vec2F offset;
           Vec2F bearing;
       };
   
       class FontManager;
   
       class Font {
           private:
               Texture texture;
               int width = -1;
               int height = -1;
               int fontSize = -1;
               CharInfo characters[128];
               std::string fontName;
               std::string originalPath;
   
           private:
               friend class FontManager;
               Font() {}
   
           public:
               void init(FT_Face face, int _fontSize);
   
               Texture& getTexture();
   
               CharInfo* getChars();
   
               std::string& getFontName();
   
               std::string& getPath();
   
               [[nodiscard]] Vec2F getSize() const;
   
               [[nodiscard]] int getFontSize() const;
       };
   
       class FontManager {
   
           struct FontHandler {
               Font* font = nullptr;
               int fontSize = -1;
           };
   
           private:
               FT_Library ftLibrary{};
   
               std::unordered_map<std::string, std::vector<FontHandler>> fonts;
   
           public:
               int maxDifferenceBetweenFontSizesBeforeCreatingANewOne = 5;
   
           public:
               FontManager() {}
   
               void init();
   
               void destroy();
   
               Font* loadFont(FileManager& _fileManager, const std::string& _pathToFont, int _fontSize = 24);
   
               Font* getDefaultFont(const std::string& _fontName);
   
               Font* getSpecificFont(FileManager& _fileManager, const std::string& _fontName, int _fontSize);
   
               void unloadFullFont(const std::string& _fontName);
   
               void unloadSpecificFont(const std::string& _fontName, int _fontSize);
   
               std::vector<Font*> getAllFonts();
       };
   
   }
   
   
   #endif //ENGINE2_0_FONT_MANAGER_H
